{% assign lang = page.lang | default: site.lang | default: 'en' %}
{% if lang == 'pt' %}
  {% assign lang_prefix = '/pt' %}
{% else %}
  {% assign lang_prefix = '' %}
{% endif %}

<nav class="nav">
  <div class="nav__brand">
    <a href="{{ lang_prefix | append: '/' | relative_url }}" class="nav__logo">Î» AppSec</a>
  </div>

  <button class="nav__toggle" aria-label="Toggle navigation">â˜°</button>

  <ul class="nav__links">
    <li><a href="{{ lang_prefix | append: '/' | relative_url }}" class="nav__link">{% if lang == 'pt' %}InÃ­cio{% else %}Home{% endif %}</a></li>
    <li><a href="{{ lang_prefix | append: '/resume/' | relative_url }}" class="nav__link">{% if lang == 'pt' %}CurrÃ­culo{% else %}Resume{% endif %}</a></li>
    <li><a href="{{ lang_prefix | append: '/projects/' | relative_url }}" class="nav__link">{% if lang == 'pt' %}Projetos{% else %}Projects{% endif %}</a></li>
    <li><a href="{{ lang_prefix | append: '/posts/' | relative_url }}" class="nav__link">Posts</a></li>
  </ul>

  <div class="nav__actions">
    <button id="theme-toggle" class="nav__icon-btn" aria-label="Toggle theme">ðŸŒ—</button>

    <div class="nav__lang-switch">
      {% if lang == 'en' %}
        <span class="nav__lang nav__lang--active">EN</span>
        <a href="{{ '/pt/' | relative_url }}" class="nav__lang">PT</a>
      {% else %}
        <a href="{{ '/' | relative_url }}" class="nav__lang">EN</a>
        <span class="nav__lang nav__lang--active">PT</span>
      {% endif %}
    </div>
  </div>
</nav>
